import { Sidebar } from "sidebar.slint";
import { StatusBar } from "status_bar.slint";
import { Channel, PendingChannel } from "../views/channels_view.slint";

export component AppLayout inherits Rectangle {
    // Properties
    in property <bool> node-is-running;
    in property <string> node-sync-status;
    in property <bool> wallet-needs-unlock;
    in property <string> status-message;
    in property <bool> has-error;
    in property <bool> litd-started-by-app;
    in property <bool> status-checking;
    in property <[Channel]> channels;
    in property <[PendingChannel]> pending-channels;
    in-out property <int> active-page;
    
    // UI navigation callbacks only
    callback manage-channels();
    callback create-channel();
    callback generate-xh();
    callback create-custom-invoice();
    callback pay-invoice();
    callback claim-invoice();
    callback create-standard-invoice();
    
    background: #202020;
    
    VerticalLayout {
        padding: 0px;
        spacing: 0px;
        
        HorizontalLayout {
            padding: 0px;
            spacing: 0px;
            
            // Sidebar
            Sidebar {
                node-is-running: root.node-is-running;
                node-sync-status: root.node-sync-status;
                wallet-needs-unlock: root.wallet-needs-unlock;
                litd-started-by-app: root.litd-started-by-app;
                status-checking: root.status-checking;
                
                manage-channels => { root.manage-channels(); }
                create-channel => { root.create-channel(); }
                generate-xh => { root.generate-xh(); }
                create-custom-invoice => { root.create-custom-invoice(); }
                pay-invoice => { root.pay-invoice(); }
                claim-invoice => { root.claim-invoice(); }
                create-standard-invoice => { root.create-standard-invoice(); }
            }
            
            // Main content area
            Rectangle {
                background: #202020;
                @children
            }
        }
        
        // Status bar at bottom
        StatusBar {
            status-message: root.status-message;
            has-error: root.has-error;
        }
    }
} 