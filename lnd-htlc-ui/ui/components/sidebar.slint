import { Button, LineEdit, VerticalBox } from "std-widgets.slint";

export component Sidebar inherits Rectangle {
    // Inputs from parent
    in property <bool> node-is-running;
    in property <string> node-sync-status;
    in property <bool> wallet-needs-unlock;
    in property <bool> litd-started-by-app;
    in property <bool> status-checking: false;
    
    // Callbacks to parent - UI navigation only
    callback manage-channels();
    callback create-channel();
    callback generate-xh();
    callback create-custom-invoice();
    callback pay-invoice();
    callback claim-invoice();
    callback create-standard-invoice();
    
    width: 220px;
    background: #1a1a1a;
    
    VerticalBox {
        padding: 16px;
        spacing: 12px;
        
        Text {
            text: "Lightning Network";
            font-size: 18px;
            font-weight: 700;
            color: #e0e0e0;
        }
        
        // Node status indicator - simplified to just show status
        Rectangle {
            height: 80px;
            background: #252525;
            border-radius: 4px;
            
            VerticalLayout {
                padding: 10px;
                spacing: 6px;
                
                HorizontalLayout {
                    spacing: 6px;
                    
                    Rectangle {
                        width: 12px;
                        height: 12px;
                        border-radius: 6px;
                        background: root.node-is-running ? #20c997 : #dc3545;
                    }
                    
                    Text {
                        text: root.node-is-running ? "Node Running" : "Node Offline";
                        color: root.node-is-running ? #e0e0e0 : #ffb0a3;
                        font-weight: 500;
                        vertical-alignment: center;
                    }
                }
                
                HorizontalLayout {
                    spacing: 8px;
                    
                    // Status checking indicator
                    Rectangle {
                        width: 8px;
                        height: 8px;
                        border-radius: 4px;
                        background: root.status-checking ? #3498db : transparent;
                        visible: root.status-checking;
                    }
                    
                    Text {
                        text: "Sync: " + root.node-sync-status;
                        color: #bbbbbb;
                        font-size: 13px;
                    }
                }
            }
        }
        
        VerticalLayout {
            spacing: 8px;

            // Channels section
            Rectangle {
                Text {
                    text: "Channels";
                    font-size: 16px;
                    font-weight: 600;
                    color: #d0d0d0;
                }
            }
            
            TouchArea {
                Rectangle {
                    height: 34px;
                    width: 100%;
                    background: #333333;
                    border-radius: 4px;
                    
                    Text {
                        text: "Manage Channels";
                        color: white;
                        horizontal-alignment: center;
                        vertical-alignment: center;
                    }
                }
                clicked => { root.manage-channels(); }
            }
            
            TouchArea {
                Rectangle {
                    height: 34px;
                    width: 100%;
                    background: #333333;
                    border-radius: 4px;
                    
                    Text {
                        text: "Create Channel";
                        color: white;
                        horizontal-alignment: center;
                        vertical-alignment: center;
                    }
                }
                clicked => { root.create-channel(); }
            }
        }
        
        VerticalLayout {
            spacing: 8px;

            // Invoice section
            Rectangle {
                Text {
                    text: "Payments";
                    font-size: 16px;
                    font-weight: 600;
                    color: #d0d0d0;
                }
            }
            
            TouchArea {
                Rectangle {
                    height: 34px;
                    width: 100%;
                    background: #333333;
                    border-radius: 4px;
                    
                    Text {
                        text: "Create Custom Invoice";
                        color: white;
                        horizontal-alignment: center;
                        vertical-alignment: center;
                    }
                }
                clicked => { root.create-custom-invoice(); }
            }
            
            TouchArea {
                Rectangle {
                    height: 34px;
                    width: 100%;
                    background: #333333;
                    border-radius: 4px;
                    
                    Text {
                        text: "Pay Invoice";
                        color: white;
                        horizontal-alignment: center;
                        vertical-alignment: center;
                    }
                }
                clicked => { root.pay-invoice(); }
            }
            
            TouchArea {
                Rectangle {
                    height: 34px;
                    width: 100%;
                    background: #333333;
                    border-radius: 4px;
                    
                    Text {
                        text: "Settle With Preimage";
                        color: white;
                        horizontal-alignment: center;
                        vertical-alignment: center;
                    }
                }
                clicked => { root.claim-invoice(); }
            }
        }
    }
} 